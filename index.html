<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°ì™ ë¡¤ ë‚´ì „ - ë§¤ì¹˜ì—… ë¶„ì„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            color: #fff;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            font-size: 2.5rem;
            background: linear-gradient(135deg, #f97316, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #888;
            font-size: 0.9rem;
        }
        
        .vs-section {
            text-align: center;
            margin: 20px 0;
        }
        
        .vs-text {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, #f97316, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .swap-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            margin-top: 15px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .swap-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .teams-wrapper {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .team-container {
            flex: 1;
            max-width: 600px;
            min-width: 300px;
        }
        
        .team-header {
            padding: 15px 20px;
            border-radius: 12px 12px 0 0;
            text-align: center;
        }
        
        .team1 .team-header {
            background: linear-gradient(135deg, #f97316 0%, #fb923c 100%);
        }
        
        .team2 .team-header {
            background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
        }
        
        .team-header h2 {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .team-header .side-tag {
            font-size: 0.8rem;
            padding: 4px 10px;
            background: rgba(255,255,255,0.2);
            border-radius: 20px;
            margin-left: 10px;
        }
        
        .team-header p {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 5px;
        }
        
        .players-list {
            background: #1e293b;
            border-radius: 0 0 12px 12px;
            padding: 15px;
        }
        
        .player-card {
            background: #334155;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: transform 0.2s;
        }
        
        .player-card:hover {
            transform: translateX(5px);
        }
        
        .player-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #4a5568;
        }
        
        .player-info {
            flex: 1;
        }
        
        .player-name {
            font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .position-tag {
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        .position-íƒ‘ { background: #ef4444; }
        .position-ì •ê¸€ { background: #22c55e; }
        .position-ë¯¸ë“œ { background: #3b82f6; }
        .position-ì›ë”œ { background: #eab308; color: #000; }
        .position-ì„œí¿ { background: #06b6d4; }
        .position-í›„ë³´ { background: #6b7280; }
        
        .player-nickname {
            font-size: 0.8rem;
            color: #94a3b8;
            margin-top: 2px;
        }
        
        .player-stats {
            text-align: right;
            min-width: 120px;
        }
        
        .tier-info {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 8px;
        }
        
        .tier-icon {
            width: 32px;
            height: 32px;
        }
        
        .tier-text {
            font-weight: bold;
            font-size: 0.95rem;
        }
        
        .record {
            font-size: 0.85rem;
            color: #94a3b8;
            margin-top: 3px;
        }
        
        .winrate {
            font-size: 0.8rem;
            color: #22c55e;
        }
        
        .prev-season {
            font-size: 0.75rem;
            color: #64748b;
            margin-top: 3px;
        }
        
        .champions {
            display: flex;
            gap: 5px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        
        .champion {
            display: flex;
            align-items: center;
            gap: 3px;
            background: #1e293b;
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 0.75rem;
        }
        
        .champion-icon {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        
        .champion-games {
            color: #94a3b8;
            font-size: 0.7rem;
        }
        
        .buttons {
            display: flex;
            gap: 8px;
            margin-top: 8px;
        }
        
        .btn {
            padding: 5px 12px;
            border-radius: 5px;
            font-size: 0.75rem;
            text-decoration: none;
            transition: opacity 0.2s;
        }
        
        .btn:hover {
            opacity: 0.8;
        }
        
        .btn-soop {
            background: #5c3dff;
            color: white;
        }
        
        .live-badge {
            background: #ef4444;
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .offline-badge {
            background: #4a5568;
            color: #94a3b8;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            color: #64748b;
            font-size: 0.8rem;
        }
        
        @media (max-width: 768px) {
            .teams-wrapper {
                flex-direction: column;
            }
            
            .player-card {
                flex-wrap: wrap;
            }
            
            .player-stats {
                width: 100%;
                text-align: left;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ® ê°ì™ ë¡¤ ë‚´ì „</h1>
            <p>ìš°ì™êµ³ íŒ€ vs ê°ìŠ¤íŠ¸ íŒ€ - 5íŒ 3ì„ ìŠ¹ì œ</p>
            <p id="lastUpdated"></p>
        </div>
        
        <div class="vs-section">
            <div class="vs-text">VS</div>
            <a href="banpick.html" class="swap-btn" style="text-decoration: none;">
                ğŸ¯ ëª¨ì˜ ë°´í”½
            </a>
        </div>
        
        <div class="teams-wrapper" id="teamsWrapper">
            <div class="team-container team1" id="team1Container">
                <div class="team-header">
                    <h2>ğŸ”¥ ìš°ì™êµ³ íŒ€ <span class="side-tag" id="team1Side">ë¸”ë£¨</span></h2>
                    <p>ë¦¬ë”: ìš°ì™êµ³</p>
                </div>
                <div class="players-list" id="team1Players"></div>
            </div>
            
            <div class="team-container team2" id="team2Container">
                <div class="team-header">
                    <h2>âš¡ ê°ìŠ¤íŠ¸ íŒ€ <span class="side-tag" id="team2Side">ë ˆë“œ</span></h2>
                    <p>ë¦¬ë”: ê°ìŠ¤íŠ¸</p>
                </div>
                <div class="players-list" id="team2Players"></div>
            </div>
        </div>
        
        <div class="footer">
            <p>ë°ì´í„° ì¶œì²˜: DeepLOL | ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: <span id="updateTime"></span></p>
        </div>
    </div>
    
    <script>
        let liveStatus = {};
        
        // í‹°ì–´ ì•„ì´ì½˜ URL
        function getTierIcon(tier) {
            const tierLower = tier?.toLowerCase().split(' ')[0] || 'unranked';
            if (tierLower === 'unranked' || tierLower === '') {
                return 'https://opgg-static.akamaized.net/images/medals_new/default.png';
            }
            return `https://opgg-static.akamaized.net/images/medals_new/${tierLower}.png`;
        }
        
        // ì±”í”¼ì–¸ ì•„ì´ì½˜ URL
        function getChampionIcon(name) {
            const champMap = {
                // ê¸°ì¡´
                'ë¬¸ë„ë°•ì‚¬': 'DrMundo', 'ê°€ë Œ': 'Garen', 'ìš”ë¦­': 'Yorick', 'ë¸Œë¼ì´ì–´': 'Briar',
                'ë°”ì´': 'Vi', 'ì­ìŠ¤': 'Jax', 'ë…¹í„´': 'Nocturne', 'ë§íŒŒì´íŠ¸': 'Malphite',
                'ì˜¤ë¦¬ì•„ë‚˜': 'Orianna', 'ë¹…í† ë¥´': 'Viktor', 'ë² ì´ê°€': 'Veigar',
                'ì¼€ì´í‹€ë¦°': 'Caitlyn', 'ì‹œë¹„ë¥´': 'Sivir', 'ì• ì‰¬': 'Ashe', 'ì•„í ë¦¬ì˜¤ìŠ¤': 'Aphelios',
                'ì„¸ë¼í•€': 'Seraphine', 'ëŸ­ìŠ¤': 'Lux', 'ë…¸í‹¸ëŸ¬ìŠ¤': 'Nautilus', 'ë£°ë£¨': 'Lulu',
                'ë³¼ë¦¬ë² ì–´': 'Volibear', 'íƒˆë¡ ': 'Talon', 'ì´ë¸”ë¦°': 'Evelynn',
                'ë§ˆì˜¤ì¹´ì´': 'Maokai', 'ëˆ„ëˆ„ì™€ìœŒëŸ¼í”„': 'Nunu', 'ëˆ„ëˆ„': 'Nunu', 'íì›¨ì´': 'Hwei',
                'ì œë¼ìŠ¤': 'Xerath', 'ì•„ë¦¬': 'Ahri', 'ë¦¬ì‚°ë“œë¼': 'Lissandra',
                'ë¯¸ìŠ¤í¬ì¸ˆ': 'MissFortune', 'ë¼ì¹¸': 'Rakan', 'ë‹ˆì½”': 'Neeko', 'ì¼€ë„¨': 'Kennen',
                // 2025+2026 í•©ì‚° ëª¨ìŠ¤íŠ¸ ì¶”ê°€
                'ìŠ¤ëª°ë”': 'Smolder', 'ì œë“œ': 'Zed', 'ìí—¨': 'Zaahen', 'ì¹´ë¥´ë§ˆ': 'Karma',
                'ì§•í¬ìŠ¤': 'Jinx', 'ì•Œë¦¬ìŠ¤íƒ€': 'Alistar', 'ëª¨ë°ì¹´ì´ì €': 'Mordekaiser',
                'ë‹¤ì´ì• ë‚˜': 'Diana', 'ë§ìí•˜': 'Malzahar', 'ìš”ë„¤': 'Yone',
                'í¬ì‚°í…Œ': 'KSante', 'ì•„íŠ¸ë¡ìŠ¤': 'Aatrox', 'ì„¸ì£¼ì•„ë‹ˆ': 'Sejuani',
                'íŠ¸ëŸ°ë“¤': 'Trundle', 'ì‹ ì§œì˜¤': 'XinZhao', 'ì˜¬ë¼í”„': 'Olaf', 'ë¦¬ì‹ ': 'LeeSin',
                'íŒí…Œì˜¨': 'Pantheon', 'ì“°ë ˆì‰¬': 'Thresh', 'ë°”ë“œ': 'Bard', 'ë ˆì˜¤ë‚˜': 'Leona',
                'ë¸”ë¦¬ì¸ í¬ë­í¬': 'Blitzcrank', 'ë‚˜ì„œìŠ¤': 'Nasus', 'ì˜¤ê³µ': 'MonkeyKing',
                'ë¹„ì—ê³ ': 'Viego', 'ê°ˆë¦¬ì˜¤': 'Galio', 'ì• ë‹ˆ': 'Annie', 'íŠ¸ë¦¬ìŠ¤íƒ€ë‚˜': 'Tristana',
                'ì§„': 'Jhin', 'ì•„ì¹¼ë¦¬': 'Akali', 'ì˜¤ë¡œë¼': 'Aurora', 'ì•”ë² ì‚¬': 'Ambessa',
                'ë²¡ìŠ¤': 'Vex', 'ëª¨ë¥´ê°€ë‚˜': 'Morgana', 'ì§ìŠ¤': 'Ziggs', 'ë¸Œë¼ì›€': 'Braum',
                'ê·¸ì›¬': 'Gwen', 'ì¼€ì¼': 'Kayle', 'ë‚˜í´': 'Nasus', 'íƒë¨¸ìŠ¤': 'TahmKench'
            };
            const engName = champMap[name] || name;
            return `https://ddragon.leagueoflegends.com/cdn/14.24.1/img/champion/${engName}.png`;
        }
        
        // í”Œë ˆì´ì–´ ì¹´ë“œ ìƒì„±
        function createPlayerCard(player) {
            const isLive = liveStatus[player.soop];
            const tierIcon = getTierIcon(player.currentTier);
            
            let tierDisplay = player.currentTier || 'Unranked';
            if (player.rankType) {
                tierDisplay += ` (${player.rankType})`;
            }
            
            const championsHtml = player.mostChampions?.slice(0, 3).map(champ => `
                <div class="champion">
                    <img class="champion-icon" src="${getChampionIcon(champ.name)}" alt="${champ.name}" onerror="this.style.display='none'">
                    <span>${champ.name}</span>
                    <span class="champion-games">${champ.games}íŒ</span>
                </div>
            `).join('') || '';
            
            return `
                <div class="player-card">
                    <img class="player-avatar" src="${player.avatar}" alt="${player.name}" onerror="this.src='https://via.placeholder.com/60'">
                    <div class="player-info">
                        <div class="player-name">
                            ${player.name}
                            <span class="position-tag position-${player.position}">${player.position}</span>
                        </div>
                        <div class="player-nickname">${player.nickname}</div>
                        <div class="champions">${championsHtml}</div>
                        <div class="buttons">
                            <a href="${player.soop}" target="_blank" class="btn btn-soop">â†— ë°©ì†¡êµ­</a>
                            ${isLive ? `<span class="live-badge">ğŸ”´ LIVE ${isLive.toLocaleString()}ëª…</span>` : '<span class="offline-badge">â— ì˜¤í”„ë¼ì¸</span>'}
                        </div>
                    </div>
                    <div class="player-stats">
                        <div class="tier-info">
                            ${player.currentTier && player.currentTier !== 'Unranked' ? `<img class="tier-icon" src="${tierIcon}" alt="${player.currentTier}">` : ''}
                            <span class="tier-text">${player.currentTier || 'Unranked'}</span>
                        </div>
                        <div class="record">${player.record || '-'}</div>
                        <div class="winrate">${player.winrate ? `ìŠ¹ë¥  ${player.winrate}` : ''}</div>
                        ${player.prevSeasonTier ? `<div class="prev-season">ì „ì‹œì¦Œ: ${player.prevSeasonTier}</div>` : ''}
                    </div>
                </div>
            `;
        }
        
        // ë°ì´í„° ë¡œë“œ
        async function loadData() {
            try {
                const response = await fetch('data.json');
                const data = await response.json();
                
                // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸
                const updateDate = new Date(data.lastUpdated);
                document.getElementById('updateTime').textContent = updateDate.toLocaleString('ko-KR');
                
                // íŒ€ ë Œë”ë§
                renderTeams(data.players);
                
            } catch (error) {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
            }
        }
        
        function renderTeams(players) {
            const team1Html = players.team1.map(p => createPlayerCard(p)).join('');
            const team2Html = players.team2.map(p => createPlayerCard(p)).join('');
            
            document.getElementById('team1Players').innerHTML = team1Html;
            document.getElementById('team2Players').innerHTML = team2Html;
        }
        
        // SOOP ë¼ì´ë¸Œ ìƒíƒœ í™•ì¸
        async function checkLiveStatus() {
            const channels = [
                'ecvhao', 'lilpa0309', 'toryvac', 'viichan6', 'gosegu2', '243000',
                'devil0108', 'nmangoquince', 'danchu17', 'yeveee', 'insome0319', 'jaeparkk'
            ];
            
            for (const channel of channels) {
                try {
                    const response = await fetch(`https://chapi.sooplive.co.kr/api/${channel}/station`);
                    const data = await response.json();
                    if (data.broad) {
                        liveStatus[`https://ch.sooplive.co.kr/${channel}`] = data.broad.current_sum_viewer || true;
                    }
                } catch (e) {
                    // ë¬´ì‹œ
                }
            }
            
            // ë¼ì´ë¸Œ ìƒíƒœ ì—…ë°ì´íŠ¸ í›„ ë‹¤ì‹œ ë Œë”ë§
            loadData();
        }
        
        // ì´ˆê¸°í™”
        loadData();
        checkLiveStatus();
        
        // 60ì´ˆë§ˆë‹¤ ë¼ì´ë¸Œ ìƒíƒœ ê°±ì‹ 
        setInterval(checkLiveStatus, 60000);
    </script>
</body>
</html>
