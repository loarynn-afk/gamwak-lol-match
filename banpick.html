<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í∞êÏôÅ ÎÇ¥Ï†Ñ - Î™®Ïùò Î∞¥ÌîΩ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #0a0a15 0%, #1a1a2e 50%, #0f0f20 100%);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }
        
        /* Ìó§Îçî */
        .header {
            text-align: center;
            padding: 15px;
            background: rgba(0,0,0,0.5);
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .header h1 {
            font-size: 1.5rem;
            background: linear-gradient(90deg, #ff6b35, #f7c94b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }
        
        .header-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .back-btn {
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            color: #fff;
            text-decoration: none;
            font-size: 0.85rem;
            transition: all 0.2s;
        }
        
        .back-btn:hover {
            background: rgba(255,255,255,0.2);
        }
        
        .phase-display {
            padding: 8px 20px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .timer-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f7c94b;
            min-width: 50px;
        }
        
        .reset-btn {
            padding: 8px 16px;
            background: #ef4444;
            border: none;
            border-radius: 8px;
            color: #fff;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .reset-btn:hover {
            background: #dc2626;
        }
        
        /* ÌåÄ Ïä§Ïôë Î≤ÑÌäº */
        .swap-btn {
            padding: 8px 16px;
            background: linear-gradient(135deg, #8b5cf6, #6366f1);
            border: none;
            border-radius: 8px;
            color: #fff;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .swap-btn:hover {
            background: linear-gradient(135deg, #7c3aed, #4f46e5);
            transform: scale(1.05);
        }
        
        .swap-btn .icon {
            font-size: 1.1rem;
        }
        
        /* Î©îÏù∏ Î†àÏù¥ÏïÑÏõÉ */
        .main-container {
            display: flex;
            height: calc(100vh - 80px);
        }
        
        /* ÌåÄ ÏÇ¨Ïù¥Îìú */
        .team-side {
            width: 280px;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }
        
        .team-side.blue {
            background: linear-gradient(180deg, rgba(59,130,246,0.2) 0%, rgba(59,130,246,0.05) 100%);
            border-right: 2px solid rgba(59,130,246,0.3);
        }
        
        .team-side.red {
            background: linear-gradient(180deg, rgba(239,68,68,0.2) 0%, rgba(239,68,68,0.05) 100%);
            border-left: 2px solid rgba(239,68,68,0.3);
        }
        
        .team-name {
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        
        .team-side.blue .team-name {
            background: rgba(59,130,246,0.3);
            color: #60a5fa;
        }
        
        .team-side.red .team-name {
            background: rgba(239,68,68,0.3);
            color: #f87171;
        }
        
        /* Î∞¥ Ïä¨Î°Ø */
        .ban-section {
            margin-bottom: 15px;
        }
        
        .section-label {
            font-size: 0.75rem;
            color: #888;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .ban-slots {
            display: flex;
            gap: 6px;
        }
        
        .ban-slot {
            width: 45px;
            height: 45px;
            background: rgba(0,0,0,0.4);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        .ban-slot.active {
            border-color: #f7c94b;
            animation: glow 1s infinite;
        }
        
        .ban-slot img {
            width: 100%;
            height: 100%;
            border-radius: 6px;
            filter: grayscale(100%);
        }
        
        .ban-slot::after {
            content: '‚úï';
            position: absolute;
            font-size: 1.5rem;
            color: #ef4444;
            opacity: 0;
        }
        
        .ban-slot.filled::after {
            opacity: 1;
        }
        
        /* ÌîΩ Ïä¨Î°Ø */
        .pick-section {
            flex: 1;
        }
        
        .pick-slots {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .pick-slot {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            background: rgba(0,0,0,0.3);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            min-height: 60px;
        }
        
        .pick-slot.active {
            border-color: #f7c94b;
            animation: glow 1s infinite;
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px rgba(247,201,75,0.5); }
            50% { box-shadow: 0 0 15px rgba(247,201,75,0.8); }
        }
        
        .pick-slot .position-icon {
            width: 24px;
            height: 24px;
            opacity: 0.6;
        }
        
        .pick-slot .champ-img {
            width: 45px;
            height: 45px;
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
        }
        
        .pick-slot .player-info {
            flex: 1;
        }
        
        .pick-slot .player-name {
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .pick-slot .player-most {
            font-size: 0.7rem;
            color: #888;
        }
        
        .pick-slot .player-most .highlight {
            color: #f7c94b;
        }
        
        /* Ï§ëÏïô Ï±îÌîºÏñ∏ ÏÑ†ÌÉù ÏòÅÏó≠ */
        .champion-select {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 15px;
            background: rgba(0,0,0,0.3);
        }
        
        /* Í≤ÄÏÉâ Î∞è ÌïÑÌÑ∞ */
        .search-filter {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .search-input {
            flex: 1;
            padding: 10px 15px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            color: #fff;
            font-size: 0.9rem;
        }
        
        .search-input::placeholder {
            color: #888;
        }
        
        .position-filters {
            display: flex;
            gap: 5px;
        }
        
        .pos-filter {
            width: 36px;
            height: 36px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            transition: all 0.2s;
        }
        
        .pos-filter:hover, .pos-filter.active {
            background: rgba(247,201,75,0.3);
            border-color: #f7c94b;
        }
        
        /* Ï±îÌîºÏñ∏ Í∑∏Î¶¨Îìú */
        .champion-grid {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            gap: 8px;
            overflow-y: auto;
            padding: 10px;
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
        }
        
        .champion-card {
            aspect-ratio: 1;
            background: rgba(255,255,255,0.05);
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        
        .champion-card:hover {
            border-color: #f7c94b;
            transform: scale(1.05);
        }
        
        .champion-card.disabled {
            opacity: 0.3;
            pointer-events: none;
        }
        
        .champion-card.most-pick {
            border-color: #22c55e;
            box-shadow: 0 0 10px rgba(34,197,94,0.5);
        }
        
        .champion-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .champion-card .name {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2px;
            background: rgba(0,0,0,0.8);
            font-size: 0.6rem;
            text-align: center;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .champion-card .most-badge {
            position: absolute;
            top: 2px;
            right: 2px;
            background: #22c55e;
            color: #000;
            font-size: 0.5rem;
            padding: 1px 4px;
            border-radius: 4px;
            font-weight: bold;
        }
        
        /* ÌôïÏù∏ Î≤ÑÌäº */
        .confirm-section {
            margin-top: 15px;
            text-align: center;
        }
        
        .confirm-btn {
            padding: 12px 40px;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            border: none;
            border-radius: 10px;
            color: #fff;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .confirm-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(34,197,94,0.4);
        }
        
        .confirm-btn:disabled {
            background: #444;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* ÏôÑÎ£å ÌôîÎ©¥ */
        .result-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .result-overlay.show {
            display: flex;
        }
        
        .result-content {
            text-align: center;
            padding: 40px;
        }
        
        .result-content h2 {
            font-size: 2rem;
            margin-bottom: 20px;
            background: linear-gradient(90deg, #ff6b35, #f7c94b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .result-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }
        
        .result-actions button {
            padding: 12px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .result-actions .restart-btn {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: #fff;
        }
        
        .result-actions .home-btn {
            background: rgba(255,255,255,0.1);
            color: #fff;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        /* Î∞òÏùëÌòï */
        @media (max-width: 1200px) {
            .team-side {
                width: 220px;
            }
        }
        
        @media (max-width: 900px) {
            .main-container {
                flex-direction: column;
                height: auto;
            }
            
            .team-side {
                width: 100%;
                flex-direction: row;
                flex-wrap: wrap;
            }
            
            .champion-select {
                min-height: 400px;
            }
        }
    </style>
</head>
<body>
    <!-- Ìó§Îçî -->
    <div class="header">
        <h1>üéØ Í∞êÏôÅ ÎÇ¥Ï†Ñ Î™®Ïùò Î∞¥ÌîΩ</h1>
        <div class="header-controls">
            <a href="index.html" class="back-btn">‚Üê ÎèåÏïÑÍ∞ÄÍ∏∞</a>
            <div class="phase-display" id="phaseDisplay">Î∏îÎ£®ÌåÄ 1Ï∞® Î∞¥</div>
            <div class="timer-display" id="timerDisplay">30</div>
            <button class="swap-btn" onclick="swapTeams()">
                <span class="icon">üîÑ</span> Î∏îÎ£®‚ÜîÎ†àÎìú Ïä§Ïôë
            </button>
            <button class="reset-btn" onclick="resetBanpick()">Ï¥àÍ∏∞Ìôî</button>
        </div>
    </div>
    
    <!-- Î©îÏù∏ -->
    <div class="main-container">
        <!-- Î∏îÎ£®ÌåÄ -->
        <div class="team-side blue">
            <div class="team-name" id="blueTeamName">üîµ Ïö∞ÏôÅÍµ≥ ÌåÄ</div>
            
            <div class="ban-section">
                <div class="section-label">BAN</div>
                <div class="ban-slots" id="blueBans">
                    <div class="ban-slot" data-index="0"></div>
                    <div class="ban-slot" data-index="1"></div>
                    <div class="ban-slot" data-index="2"></div>
                    <div class="ban-slot" data-index="3"></div>
                    <div class="ban-slot" data-index="4"></div>
                </div>
            </div>
            
            <div class="pick-section">
                <div class="section-label">PICK</div>
                <div class="pick-slots" id="bluePicks">
                    <!-- ÎèôÏ†Å ÏÉùÏÑ± -->
                </div>
            </div>
        </div>
        
        <!-- Ï±îÌîºÏñ∏ ÏÑ†ÌÉù -->
        <div class="champion-select">
            <div class="search-filter">
                <input type="text" class="search-input" id="searchInput" placeholder="Ï±îÌîºÏñ∏ Í≤ÄÏÉâ...">
                <div class="position-filters">
                    <div class="pos-filter active" data-pos="all">Ï†ÑÏ≤¥</div>
                    <div class="pos-filter" data-pos="top">ÌÉë</div>
                    <div class="pos-filter" data-pos="jgl">Ï†ïÍ∏Ä</div>
                    <div class="pos-filter" data-pos="mid">ÎØ∏Îìú</div>
                    <div class="pos-filter" data-pos="bot">ÏõêÎîú</div>
                    <div class="pos-filter" data-pos="sup">ÏÑúÌèø</div>
                </div>
            </div>
            
            <div class="champion-grid" id="championGrid">
                <!-- ÎèôÏ†Å ÏÉùÏÑ± -->
            </div>
            
            <div class="confirm-section">
                <button class="confirm-btn" id="confirmBtn" disabled onclick="confirmSelection()">Ï±îÌîºÏñ∏ ÏÑ†ÌÉù</button>
            </div>
        </div>
        
        <!-- Î†àÎìúÌåÄ -->
        <div class="team-side red">
            <div class="team-name" id="redTeamName">üî¥ Í∞êÏä§Ìä∏ ÌåÄ</div>
            
            <div class="ban-section">
                <div class="section-label">BAN</div>
                <div class="ban-slots" id="redBans">
                    <div class="ban-slot" data-index="0"></div>
                    <div class="ban-slot" data-index="1"></div>
                    <div class="ban-slot" data-index="2"></div>
                    <div class="ban-slot" data-index="3"></div>
                    <div class="ban-slot" data-index="4"></div>
                </div>
            </div>
            
            <div class="pick-section">
                <div class="section-label">PICK</div>
                <div class="pick-slots" id="redPicks">
                    <!-- ÎèôÏ†Å ÏÉùÏÑ± -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- ÏôÑÎ£å Ïò§Î≤ÑÎ†àÏù¥ -->
    <div class="result-overlay" id="resultOverlay">
        <div class="result-content">
            <h2>üéâ Î∞¥ÌîΩ ÏôÑÎ£å!</h2>
            <p>Î∞¥ÌîΩÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.</p>
            <div class="result-actions">
                <button class="restart-btn" onclick="resetBanpick()">Îã§Ïãú ÌïòÍ∏∞</button>
                <a href="index.html"><button class="home-btn">Î©îÏù∏ÏúºÎ°ú</button></a>
            </div>
        </div>
    </div>

    <script>
        // Ïö∞ÏôÅÍµ≥ ÌåÄ (2025+2026 Ìï©ÏÇ∞ Î™®Ïä§Ìä∏)
        const wakTeam = [
            { name: "Ïö∞ÏôÅÍµ≥", position: "ÌÉë", most: ["Ïä§Î™∞Îçî", "Ï†úÎìú", "ÏûêÌó®"] },
            { name: "Î¶¥Ìåå", position: "Ï†ïÍ∏Ä", most: ["ÎÖπÌÑ¥", "Î∏åÎùºÏù¥Ïñ¥", "ÎßêÌååÏù¥Ìä∏"] },
            { name: "ÎπÖÌÜ†Î¶¨", position: "ÎØ∏Îìú", most: ["Î£∞Î£®", "Ïò§Î¶¨ÏïÑÎÇò", "Ïπ¥Î•¥Îßà"] },
            { name: "ÎπÑÏ±§", position: "ÏõêÎîú", most: ["ÏßïÌÅ¨Ïä§", "ÎØ∏Ïä§Ìè¨Ï∏à", "Ïò§Î¶¨ÏïÑÎÇò"] },
            { name: "Í≥†ÏÑ∏Íµ¨", position: "ÏÑúÌèø", most: ["Îü≠Ïä§", "ÎãàÏΩî", "ÎÖπÌÑ¥"] }
        ];
        
        // Í∞êÏä§Ìä∏ ÌåÄ (2025+2026 Ìï©ÏÇ∞ Î™®Ïä§Ìä∏)
        const gamTeam = [
            { name: "Í∞êÏä§Ìä∏", position: "ÌÉë", most: ["ÌÉàÎ°†", "ÎÖπÌÑ¥", "Í∞ÄÎ†å"] },
            { name: "ÎßùÍµ¨Îûë", position: "Ï†ïÍ∏Ä", most: ["Îã§Ïù¥Ïï†ÎÇò", "ÎÖπÌÑ¥", "ÎßêÌååÏù¥Ìä∏"] },
            { name: "Îã®Ï∏Ñ", position: "ÎØ∏Îìú", most: ["Î≤†Ïù¥Í∞Ä", "Î∞îÏù¥", "ÎØ∏Ïä§Ìè¨Ï∏à"] },
            { name: "Ïú†ÏÑ§ÏïÑ", position: "ÏõêÎîú", most: ["ÎØ∏Ïä§Ìè¨Ï∏à", "ÏïÑÎ¶¨", "ÎßêÏûêÌïò"] },
            { name: "Îî∞Î¶∞", position: "ÏÑúÌèø", most: ["ÎÖ∏Ìã∏Îü¨Ïä§", "ÎùºÏπ∏", "ÎãàÏΩî"] }
        ];
        
        // ÌåÄ Î∞∞Ïπò ÏÉÅÌÉú (true = Ïö∞ÏôÅÍµ≥ÌåÄÏù¥ Î∏îÎ£®)
        let wakIsBlue = true;
        
        // ÌòÑÏû¨ Î∏îÎ£®/Î†àÎìú ÌåÄ Ï∞∏Ï°∞
        let blueTeam = wakTeam;
        let redTeam = gamTeam;
        
        // Î™®Îì† ÏÑ†ÏàòÏùò Î™®Ïä§Ìä∏ Ï±îÌîºÏñ∏ ÏàòÏßë
        function getAllMostChampions() {
            const all = new Set();
            [...blueTeam, ...redTeam].forEach(p => p.most.forEach(c => all.add(c)));
            return all;
        }
        let allMostChampions = getAllMostChampions();
        
        // Î∞¥ÌîΩ ÏàúÏÑú (ÌÜ†ÎÑàÎ®ºÌä∏ ÎìúÎûòÌîÑÌä∏)
        const banpickOrder = [
            // 1Ï∞® Î∞¥
            { team: 'blue', type: 'ban', index: 0 },
            { team: 'red', type: 'ban', index: 0 },
            { team: 'blue', type: 'ban', index: 1 },
            { team: 'red', type: 'ban', index: 1 },
            { team: 'blue', type: 'ban', index: 2 },
            { team: 'red', type: 'ban', index: 2 },
            // 1Ï∞® ÌîΩ
            { team: 'blue', type: 'pick', index: 0 },
            { team: 'red', type: 'pick', index: 0 },
            { team: 'red', type: 'pick', index: 1 },
            { team: 'blue', type: 'pick', index: 1 },
            { team: 'blue', type: 'pick', index: 2 },
            { team: 'red', type: 'pick', index: 2 },
            // 2Ï∞® Î∞¥
            { team: 'red', type: 'ban', index: 3 },
            { team: 'blue', type: 'ban', index: 3 },
            { team: 'red', type: 'ban', index: 4 },
            { team: 'blue', type: 'ban', index: 4 },
            // 2Ï∞® ÌîΩ
            { team: 'red', type: 'pick', index: 3 },
            { team: 'blue', type: 'pick', index: 3 },
            { team: 'blue', type: 'pick', index: 4 },
            { team: 'red', type: 'pick', index: 4 }
        ];
        
        // ÏÉÅÌÉú
        let currentStep = 0;
        let selectedChampion = null;
        let selectedChampionImage = null;
        let usedChampions = new Set();
        let champions = [];
        let timer = 30;
        let timerInterval = null;
        
        // ÌåÄ Ïä§Ïôë Í∏∞Îä•
        function swapTeams() {
            wakIsBlue = !wakIsBlue;
            
            if (wakIsBlue) {
                blueTeam = wakTeam;
                redTeam = gamTeam;
                document.getElementById('blueTeamName').textContent = 'üîµ Ïö∞ÏôÅÍµ≥ ÌåÄ';
                document.getElementById('redTeamName').textContent = 'üî¥ Í∞êÏä§Ìä∏ ÌåÄ';
            } else {
                blueTeam = gamTeam;
                redTeam = wakTeam;
                document.getElementById('blueTeamName').textContent = 'üîµ Í∞êÏä§Ìä∏ ÌåÄ';
                document.getElementById('redTeamName').textContent = 'üî¥ Ïö∞ÏôÅÍµ≥ ÌåÄ';
            }
            
            allMostChampions = getAllMostChampions();
            resetBanpick();
        }
        
        // DDragonÏóêÏÑú Ï±îÌîºÏñ∏ Î°úÎìú
        async function loadChampions() {
            try {
                const response = await fetch('https://ddragon.leagueoflegends.com/cdn/16.1.1/data/ko_KR/champion.json');
                const data = await response.json();
                
                champions = Object.values(data.data).map(champ => ({
                    id: champ.id,
                    name: champ.name,
                    image: `https://ddragon.leagueoflegends.com/cdn/16.1.1/img/champion/${champ.id}.png`
                }));
                
                // Í∞ÄÎÇòÎã§Ïàú Ï†ïÎ†¨
                champions.sort((a, b) => a.name.localeCompare(b.name, 'ko'));
                
                renderChampions();
            } catch (error) {
                console.error('Ï±îÌîºÏñ∏ Î°úÎìú Ïã§Ìå®:', error);
            }
        }
        
        // Ï±îÌîºÏñ∏ Í∑∏Î¶¨Îìú Î†åÎçîÎßÅ
        function renderChampions(filter = '', positionFilter = 'all') {
            const grid = document.getElementById('championGrid');
            const searchTerm = filter.toLowerCase();
            
            grid.innerHTML = champions
                .filter(c => {
                    // Í≤ÄÏÉâÏñ¥ ÌïÑÌÑ∞
                    const matchesSearch = c.name.toLowerCase().includes(searchTerm);
                    
                    // Ìè¨ÏßÄÏÖò ÌïÑÌÑ∞
                    let matchesPosition = true;
                    if (positionFilter !== 'all') {
                        const posChamps = championPositions[positionFilter] || [];
                        matchesPosition = posChamps.includes(c.name);
                    }
                    
                    return matchesSearch && matchesPosition;
                })
                .map(champ => {
                    const isUsed = usedChampions.has(champ.name);
                    const isMost = allMostChampions.has(champ.name);
                    const isSelected = selectedChampion === champ.name;
                    
                    return `
                        <div class="champion-card ${isUsed ? 'disabled' : ''} ${isMost ? 'most-pick' : ''} ${isSelected ? 'selected' : ''}"
                             onclick="selectChampion('${champ.name}', '${champ.image}')"
                             style="${isSelected ? 'border-color: #f7c94b; transform: scale(1.1);' : ''}">
                            <img src="${champ.image}" alt="${champ.name}">
                            <div class="name">${champ.name}</div>
                            ${isMost ? '<div class="most-badge">Î™®Ïä§Ìä∏</div>' : ''}
                        </div>
                    `;
                }).join('');
        }
        
        // Ï±îÌîºÏñ∏ ÏÑ†ÌÉù
        function selectChampion(name, image) {
            if (usedChampions.has(name)) return;
            
            selectedChampion = name;
            selectedChampionImage = image;
            renderChampions(document.getElementById('searchInput').value, currentPositionFilter);
            document.getElementById('confirmBtn').disabled = false;
        }
        
        // ÏÑ†ÌÉù ÌôïÏ†ï
        function confirmSelection() {
            if (!selectedChampion || currentStep >= banpickOrder.length) return;
            
            const current = banpickOrder[currentStep];
            const team = current.team;
            const type = current.type;
            const index = current.index;
            
            // Ï±îÌîºÏñ∏ ÏÇ¨Ïö© Ï≤òÎ¶¨
            usedChampions.add(selectedChampion);
            
            // UI ÏóÖÎç∞Ïù¥Ìä∏
            if (type === 'ban') {
                const banSlots = document.querySelectorAll(`#${team}Bans .ban-slot`);
                const slot = banSlots[index];
                slot.innerHTML = `<img src="${selectedChampionImage}" alt="${selectedChampion}">`;
                slot.classList.add('filled');
                slot.classList.remove('active');
            } else {
                const pickSlots = document.querySelectorAll(`#${team}Picks .pick-slot`);
                const slot = pickSlots[index];
                slot.querySelector('.champ-img').innerHTML = `<img src="${selectedChampionImage}" alt="${selectedChampion}" style="width:100%;height:100%;border-radius:8px;">`;
                slot.classList.remove('active');
            }
            
            // Îã§Ïùå Îã®Í≥Ñ
            selectedChampion = null;
            selectedChampionImage = null;
            document.getElementById('confirmBtn').disabled = true;
            currentStep++;
            
            if (currentStep >= banpickOrder.length) {
                // ÏôÑÎ£å
                clearInterval(timerInterval);
                document.getElementById('resultOverlay').classList.add('show');
            } else {
                updatePhaseDisplay();
                highlightCurrentSlot();
                renderChampions(document.getElementById('searchInput').value, currentPositionFilter);
                resetTimer();
            }
        }
        
        // ÌòÑÏû¨ Îã®Í≥Ñ ÌëúÏãú ÏóÖÎç∞Ïù¥Ìä∏
        function updatePhaseDisplay() {
            const current = banpickOrder[currentStep];
            const teamName = current.team === 'blue' ? 'Î∏îÎ£®ÌåÄ' : 'Î†àÎìúÌåÄ';
            const typeName = current.type === 'ban' ? 'Î∞¥' : 'ÌîΩ';
            const phase = currentStep < 6 ? '1Ï∞®' : (currentStep < 12 ? '1Ï∞®' : (currentStep < 16 ? '2Ï∞®' : '2Ï∞®'));
            
            document.getElementById('phaseDisplay').textContent = `${teamName} ${phase} ${typeName}`;
            document.getElementById('phaseDisplay').style.background = 
                current.team === 'blue' 
                    ? 'linear-gradient(135deg, #3b82f6, #1d4ed8)' 
                    : 'linear-gradient(135deg, #ef4444, #b91c1c)';
        }
        
        // ÌòÑÏû¨ Ïä¨Î°Ø ÌïòÏù¥ÎùºÏù¥Ìä∏
        function highlightCurrentSlot() {
            // Í∏∞Ï°¥ ÌïòÏù¥ÎùºÏù¥Ìä∏ Ï†úÍ±∞
            document.querySelectorAll('.ban-slot.active, .pick-slot.active').forEach(el => {
                el.classList.remove('active');
            });
            
            if (currentStep >= banpickOrder.length) return;
            
            const current = banpickOrder[currentStep];
            
            if (current.type === 'ban') {
                const banSlots = document.querySelectorAll(`#${current.team}Bans .ban-slot`);
                banSlots[current.index].classList.add('active');
            } else {
                const pickSlots = document.querySelectorAll(`#${current.team}Picks .pick-slot`);
                pickSlots[current.index].classList.add('active');
            }
        }
        
        // ÌîΩ Ïä¨Î°Ø Ï¥àÍ∏∞Ìôî
        function initPickSlots() {
            const bluePicksEl = document.getElementById('bluePicks');
            const redPicksEl = document.getElementById('redPicks');
            
            bluePicksEl.innerHTML = blueTeam.map((player, i) => `
                <div class="pick-slot" data-index="${i}">
                    <div class="champ-img"></div>
                    <div class="player-info">
                        <div class="player-name">${player.name}</div>
                        <div class="player-most">Î™®Ïä§Ìä∏: <span class="highlight">${player.most[0]}</span></div>
                    </div>
                </div>
            `).join('');
            
            redPicksEl.innerHTML = redTeam.map((player, i) => `
                <div class="pick-slot" data-index="${i}">
                    <div class="champ-img"></div>
                    <div class="player-info">
                        <div class="player-name">${player.name}</div>
                        <div class="player-most">Î™®Ïä§Ìä∏: <span class="highlight">${player.most[0]}</span></div>
                    </div>
                </div>
            `).join('');
        }
        
        // ÌÉÄÏù¥Î®∏
        function resetTimer() {
            timer = 30;
            document.getElementById('timerDisplay').textContent = timer;
        }
        
        function startTimer() {
            timerInterval = setInterval(() => {
                timer--;
                document.getElementById('timerDisplay').textContent = timer;
                
                if (timer <= 0) {
                    // ÏãúÍ∞Ñ Ï¥àÍ≥º - ÏûêÎèô Ïä§ÌÇµ (ÎòêÎäî ÎûúÎç§ ÏÑ†ÌÉù)
                    resetTimer();
                }
            }, 1000);
        }
        
        // Ï¥àÍ∏∞Ìôî
        function resetBanpick() {
            currentStep = 0;
            selectedChampion = null;
            usedChampions.clear();
            
            // UI Ï¥àÍ∏∞Ìôî
            document.querySelectorAll('.ban-slot').forEach(slot => {
                slot.innerHTML = '';
                slot.classList.remove('filled', 'active');
            });
            
            // Ìè¨ÏßÄÏÖò ÌïÑÌÑ∞ Ï¥àÍ∏∞Ìôî
            currentPositionFilter = 'all';
            document.querySelectorAll('.pos-filter').forEach(b => b.classList.remove('active'));
            document.querySelector('.pos-filter[data-pos="all"]').classList.add('active');
            
            initPickSlots();
            updatePhaseDisplay();
            highlightCurrentSlot();
            renderChampions('', 'all');
            document.getElementById('confirmBtn').disabled = true;
            document.getElementById('resultOverlay').classList.remove('show');
            document.getElementById('searchInput').value = '';
            
            clearInterval(timerInterval);
            resetTimer();
            startTimer();
        }
        
        // Í≤ÄÏÉâ
        document.getElementById('searchInput').addEventListener('input', (e) => {
            renderChampions(e.target.value, currentPositionFilter);
        });
        
        // ÌòÑÏû¨ ÏÑ†ÌÉùÎêú Ìè¨ÏßÄÏÖò ÌïÑÌÑ∞
        let currentPositionFilter = 'all';
        
        // Ìè¨ÏßÄÏÖòÎ≥Ñ Ï±îÌîºÏñ∏ Î¶¨Ïä§Ìä∏ (ÌïúÍ∏Ä Ïù¥Î¶Ñ Í∏∞Ï§Ä)
        const championPositions = {
            top: [
                'Í∞ÄÎ†å', 'Í∞±ÌîåÎû≠ÌÅ¨', 'Í∑∏ÎùºÍ∞ÄÏä§', 'Í∑∏Ïõ¨', 'ÎÇòÎ•¥', 'ÎÇòÏÑúÏä§', 'Îã§Î¶¨Ïö∞Ïä§', 
                'ÎùºÏù¥Ï¶à', 'Î†àÎÑ•ÌÜ§', 'Î†ùÍ∞Ä', 'ÎüºÎ∏î', 'Î¶¨Î∏ê', 'ÎßêÌååÏù¥Ìä∏', 'Î™®Îç∞Ïπ¥Ïù¥Ï†Ä', 
                'Î¨∏ÎèÑ Î∞ïÏÇ¨', 'Î≥ºÎ¶¨Î≤†Ïñ¥', 'Î∏åÎùºÏù¥Ïñ¥', 'ÎΩÄÏÇê', 'ÏÇ¨Ïù¥Ïò®', 'ÏÑ∏Ìä∏', 'Ïä§Ïõ®Ïù∏',
                'Ïã† ÏßúÏò§', 'Ïã±Îìú', 'ÏïÑÏö∞Î†êÎ¶¨Ïò® ÏÜî', 'ÏïÑÏπºÎ¶¨', 'ÏïÑÌä∏Î°ùÏä§', 'ÏïîÎ≤†ÏÇ¨', 'ÏïºÏä§Ïò§', 
                'Ïò§Í≥µ', 'Ïò§Î•∏', 'ÏöîÎÑ§', 'ÏöîÎ¶≠', 'Ïö∞Î•¥Í≥≥', 'ÏõåÏúÖ', 'ÏùºÎùºÏò§Ïù¥', 'ÏûêÌÅ¨', 
                'ÏûêÌó®', 'Ïû≠Ïä§', 'Ï¥àÍ∞ÄÏä§', 'Ïπ¥Î∞Ä', 'ÏºÄÎÑ®', 'ÏºÄÏùº', 'ÌÅ¨ÏÇ∞ÌÖå', 'ÌÅ¥Î†àÎìú', 
                'ÌÄ∏', 'ÌÉàÎ°†', 'ÌÖåÎ™®', 'Ìä∏Îü∞Îì§', 'Ìä∏Î¶∞Îã§ÎØ∏Ïñ¥', 'ÌåêÌÖåÏò®', 'ÌîºÏò§Îùº', 'Ïâî'
            ],
            jgl: [
                'Í∑∏Î†àÏù¥Î∏åÏ¶à', 'Í∑∏Ïõ¨', 'ÎÇòÌîºÎ¶¨', 'ÎÖπÌÑ¥', 'ÎàÑÎàÑÏôÄ ÏúåÎüºÌîÑ', 'ÎãàÎã¨Î¶¨', 
                'Îã§Ïù¥Ïï†ÎÇò', 'Î†âÏÇ¨Ïù¥', 'Î†ùÍ∞Ä', 'Î¶¨ Ïã†', 'Î¶¥Î¶¨ÏïÑ', 'ÎßàÏä§ÌÑ∞ Ïù¥', 'Î¨∏ÎèÑ Î∞ïÏÇ¨',
                'Î∞îÏù¥', 'Î≤®Î≤†Ïä§', 'Î≥ºÎ¶¨Î≤†Ïñ¥', 'Î∏åÎùºÏù¥Ïñ¥', 'ÎπÑÏóêÍ≥†', 'ÎΩÄÏÇê', 'ÏÉ§ÏΩî', 
                'ÏÑ∏Ï£ºÏïÑÎãà', 'Ïä§Ïπ¥ÎÑà', 'Ïã† ÏßúÏò§', 'ÏïÑÏù¥Î≤à', 'ÏïîÎ≤†ÏÇ¨', 'ÏóêÏΩî', 'ÏóòÎ¶¨Ïä§', 
                'Ïò§Í≥µ', 'Ïò¨ÎùºÌîÑ', 'ÏõåÏúÖ', 'Ïö∞ÎîîÎ•¥', 'Ïù¥Î∏îÎ¶∞', 'ÏûêÎ•¥Î∞ò 4ÏÑ∏', 'ÏûêÌÅ¨', 
                'Ïû≠Ïä§', 'Ïπ¥ÏÑúÏä§', 'Ïπ¥ÏßÅÏä§', 'ÏºÄÏù∏', 'ÌÇ®ÎìúÎ†àÎìú', 'ÌÉàÎ¶¨Ïïº', 'Ìä∏Îü∞Îì§', 
                'Ìä∏ÏúÑÏπò', 'ÌåêÌÖåÏò®', 'ÌîºÏ¶à', 'Ìó§Ïπ¥Î¶º'
            ],
            mid: [
                'Í∞àÎ¶¨Ïò§', 'ÎÇòÌîºÎ¶¨', 'ÎãàÏΩî', 'Îã§Ïù¥Ïï†ÎÇò', 'ÎùºÏù¥Ï¶à', 'Îü≠Ïä§', 'Î•¥Î∏îÎûë', 
                'Î¶¨ÏÇ∞ÎìúÎùº', 'ÎßêÏûêÌïò', 'Î≤†Ïù¥Í∞Ä', 'Î≤°Ïä§', 'ÎπÖÌÜ†Î•¥', 'ÏÑ∏ÎùºÌïÄ', 'Ïä§Ïõ®Ïù∏', 
                'Ïã†ÎìúÎùº', 'ÏïÑÎ¶¨', 'ÏïÑÏö∞Î†êÎ¶¨Ïò® ÏÜî', 'ÏïÑÏßÄÎ•¥', 'ÏïÑÏπºÎ¶¨', 'ÏïÑÌÅ¨ÏÉ®', 'Ïï†Îãà', 
                'Ïï†ÎãàÎπÑÏïÑ', 'ÏïºÏä§Ïò§', 'ÏóêÏΩî', 'Ïò§Î°úÎùº', 'Ïò§Î¶¨ÏïÑÎÇò', 'ÏöîÎÑ§', 'Ïù¥Ï¶àÎ¶¨Ïñº',
                'Ï†úÎìú', 'Ï†úÎùºÏä§', 'Ï°∞Ïù¥', 'ÏßÅÏä§', 'Ïπ¥ÏÇ¨Îîò', 'Ïπ¥ÏãúÏò§ÌéòÏïÑ', 'Ïπ¥ÌÉÄÎ¶¨ÎÇò', 
                'ÏΩîÎ•¥ÌÇ§', 'ÌÇ§ÏïÑÎÇò', 'ÌÉàÎ°†', 'ÌÉàÎ¶¨Ïïº', 'Ìä∏ÏúÑÏä§Ìã∞Îìú ÌéòÏù¥Ìä∏', 'ÌåêÌÖåÏò®', 
                'ÌîºÏ¶à', 'ÌùêÏõ®Ïù¥'
            ],
            bot: [
                'ÎãêÎùº', 'ÎìúÎ†àÏù¥Î∏ê', 'Î£®ÏãúÏïà', 'ÎØ∏Ïä§ Ìè¨Ï∏à', 'Î∞îÎ£®Ïä§', 'Î≤†Ïù∏', 'ÏÇ¨ÎØ∏Îùº', 
                'Ïä§Î™∞Îçî', 'ÏãúÎπÑÎ•¥', 'ÏïÑÌé†Î¶¨Ïò§Ïä§', 'Ïï†Ïâ¨', 'Ïù¥Ï¶àÎ¶¨Ïñº', 'ÏûêÏïº', 'Ï†úÎ¶¨', 
                'ÏßÅÏä§', 'ÏßÑ', 'ÏßïÌÅ¨Ïä§', 'Ïπ¥Ïù¥ÏÇ¨', 'ÏπºÎ¶¨Ïä§ÌÉÄ', 'ÏºÄÏù¥ÌãÄÎ¶∞', 'ÏΩîÍ∑∏Î™®', 
                'ÏΩîÎ•¥ÌÇ§', 'Ìä∏Î¶¨Ïä§ÌÉÄÎÇò', 'Ìä∏ÏúÑÏπò', 'ÏÑ∏ÎÇò'
            ],
            sup: [
                'ÎÇòÎØ∏', 'ÎÖ∏Ìã∏Îü¨Ïä§', 'ÎãàÏΩî', 'ÎùºÏπ∏', 'Îü≠Ïä§', 'Î†àÎÇòÌÉÄ Í∏ÄÎùºÏä§ÌÅ¨', 'Î†àÏò§ÎÇò', 
                'Î†ê', 'Î£∞Î£®', 'ÎßàÏò§Ïπ¥Ïù¥', 'Î™®Î•¥Í∞ÄÎÇò', 'Î∞ÄÎ¶¨Ïò§', 'Î∞îÎìú', 'Î≤®ÏΩîÏ¶à', 
                'Î∏åÎùºÏõÄ', 'Î∏îÎ¶¨Ï∏†ÌÅ¨Îû≠ÌÅ¨', 'ÎΩÄÏÇê', 'ÏÉ§ÏΩî', 'ÏÑ∏ÎÇò', 'ÏÑ∏ÎùºÌïÄ', 'ÏÜåÎÇò', 
                'ÏÜåÎùºÏπ¥', 'Ïä§Ïõ®Ïù∏', 'Ïì∞Î†àÏâ¨', 'ÏïåÎ¶¨Ïä§ÌÉÄ', 'Ïú†ÎØ∏', 'ÏûêÏù¥Îùº', 'ÏûîÎÇò', 
                'Ï†úÎùºÏä§', 'ÏßàÎ¶¨Ïñ∏', 'Ïπ¥Î•¥Îßà', 'ÌÉÄÎ¶≠', 'ÌÉê ÏºÑÏπò', 'ÌååÏù¥ÌÅ¨', 'ÌåêÌÖåÏò®'
            ]
        };
        
        // Ìè¨ÏßÄÏÖò ÌïÑÌÑ∞
        document.querySelectorAll('.pos-filter').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.pos-filter').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentPositionFilter = btn.dataset.pos;
                renderChampions(document.getElementById('searchInput').value, currentPositionFilter);
            });
        });
        
        // ÏãúÏûë
        loadChampions().then(() => {
            initPickSlots();
            updatePhaseDisplay();
            highlightCurrentSlot();
            startTimer();
        });
    </script>
</body>
</html>
